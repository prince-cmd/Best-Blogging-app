{% extends 'base.html' %}


{% block title %} Blog {% endblock title %}

{% block js %}
<script>
  let previews = document.getElementsByClassName('preview');
  Array.from(previews).forEach((element) => {
    element.innerHTML = element.innerText;
  })

</script>

{% endblock js %}



{% block blogactive %} active {% endblock blogactive %}

{% block body %}


<div class="container">
  <!-- Section: Blog v.3 -->
  <section class="my-5">

    <!-- Section heading -->
    <h2 class="h1-responsive font-weight-bold text-center my-5">Recent posts</h2>
    <!-- Section description -->
    <p class="text-center dark-grey-text w-responsive mx-auto mb-5">Tried best and see what we got for you</p>


    {% for post in allPosts %}
    <div class="container">

      <!-- Grid row -->
      <div class="row shadow-lg p-3 mb-5 bg-white rounded">

        <!-- Grid column -->
        <div class="col-lg-5 col-xl-4">

          <!-- Featured image -->
          <div class="view overlay rounded z-depth-1-half mb-lg-0 mb-4">
            <img class="img-fluid" src="/media/{{post.thumbnail}}" alt="Sample image">
            <a>
              <div class="mask rgba-white-slight"></div>
            </a>
          </div>

        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-lg-7 col-xl-8">

          <!-- Post title -->
          <h3 class="font-weight-bold mb-3"><strong>{{post.title}}</strong></h3>
          <!-- Excerpt -->
          <p class="dark-grey-text">
          <div class="preview">{{post.content|safe | truncatechars:500}}</div>
          </p>
          <!-- Post data -->
          <p>by <a class="font-weight-bold">{{post.author}}</a>, {{post.timeStamp}}</p>
          <!-- Read more button -->
          <a href="/blog/{{post.slug}}" class="btn btn-primary btn-md role=" button" ">Continue reading</a>

    </div>
    <!-- Grid column -->

  </div>
  <!-- Grid row -->

    </div>
    <!-- Grid column -->

  </div>
  <!-- Grid row -->
  
  

</section>
<!-- Section: Blog v.3 -->
</div>



{% endfor %}

</div>


  <!--Pagination -->
  <nav class=" d-flex justify-content-center m-5">
    <ul class="pagination pg-blue mb-0">
      
      <!--First-->
      <li class="page-item ">
        <a class="page-link">First</a>
      </li>


      {% if allPosts.has_previous %}
      <!--Arrow left-->
      <li class="page-item ">
        <a class="page-link" href="?page={{allPosts.previous_page_number}}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>

      <!--Numbers-->
      <li class="page-item active">
        <a class="page-link">{{allPosts.number}}</a>
      </li>
      {% endif %}

      {% if allPosts.has_next %}


      


      <!--Arrow right-->
      <li class="page-item">
        <a class="page-link" href="?page={{allPosts.next_page_number}}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
      {% endif %}
      <!--Last-->
      <li class="page-item">
        <a class="page-link">Last</a>
      </li>

    </ul>
    </nav> 
    <!--Pagination -->
 
          

            <div class="container">
            <nav aria-label="Page navigation example">
              <ul class="pagination">
                {% if allPosts.has_previous %}
                <li class="page-item">
                  <a class="page-link" href="?page={{allPosts.previous_page_number}}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
                {% endif %}
                <li class="page-item"><a class="page-link" href="">{{allPosts.number}}</a></li>
                {% if allPosts.has_next %}
                <li class="page-item">
                  <a class="page-link" href="?page={{allPosts.next_page_number}}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
                {% endif %}
              </ul>
            </nav>
            </div>






























            {% endblock body %}